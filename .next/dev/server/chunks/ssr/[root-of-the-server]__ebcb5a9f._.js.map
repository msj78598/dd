{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/78598/Documents/direct/smart-meter-ai/src/hooks/useImageAnalysis.ts"],"sourcesContent":["\"use client\";\r\nimport { useState, useRef } from 'react';\r\n\r\nexport function useLiveAnalysis() {\r\n    const [status, setStatus] = useState<\"Idle\" | \"Running\" | \"Thinking\">(\"Idle\");\r\n    const [lastResponse, setLastResponse] = useState(\"\");\r\n    const videoRef = useRef<HTMLVideoElement>(null);\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n    const startCamera = async () => {\r\n        const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: \"environment\" } });\r\n        if (videoRef.current) videoRef.current.srcObject = stream;\r\n        setStatus(\"Running\");\r\n    };\r\n\r\n    const captureAndAnalyze = async () => {\r\n        if (!videoRef.current || !canvasRef.current) return;\r\n\r\n        const context = canvasRef.current.getContext(\"2d\");\r\n        context?.drawImage(videoRef.current, 0, 0, 640, 480);\r\n        const base64Image = canvasRef.current.toDataURL(\"image/jpeg\").split(\",\")[1];\r\n\r\n        setStatus(\"Thinking\");\r\n        const apiKey = process.env.NEXT_PUBLIC_GEMINI_API_KEY;\r\n        // ÿßŸÑŸÖŸàÿØŸäŸÑ ÿßŸÑÿ∞Ÿä ÿ™ŸÖ ÿ™ÿ£ŸÉŸäÿØŸá ŸÅŸä ÿ≠ÿ≥ÿßÿ®ŸÉ\r\n        const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${apiKey}`;\r\n\r\n        try {\r\n            const res = await fetch(url, {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    contents: [{\r\n                        parts: [\r\n                            { text: \"ÿ≠ŸÑŸÑ Ÿáÿ∞ÿß ÿßŸÑÿ•ÿ∑ÿßÿ± ŸÖŸÜ ÿßŸÑŸÅŸäÿØŸäŸà ÿ®ÿØŸÇÿ©. ÿßÿ≥ÿ™ÿÆÿ±ÿ¨ ŸÇÿ±ÿßÿ°ÿ© ÿßŸÑÿπÿØÿßÿØ ÿßŸÑÿ±ŸÇŸÖŸäÿ© ŸÅŸàÿ±ÿßŸã. ÿ£ÿ¨ÿ® ÿ®ÿßŸÑÿ±ŸÇŸÖ ŸÅŸÇÿ∑ ÿ®ÿßŸÑÿπÿ±ÿ®Ÿäÿ©.\" },\r\n                            { inline_data: { mime_type: \"image/jpeg\", data: base64Image } }\r\n                        ]\r\n                    }]\r\n                })\r\n            });\r\n\r\n            const data = await res.json();\r\n            const text = data.candidates?.[0]?.content?.parts?.[0]?.text;\r\n\r\n            if (text) {\r\n                setLastResponse(text);\r\n                const speech = new SpeechSynthesisUtterance(text);\r\n                speech.lang = 'ar-SA';\r\n                window.speechSynthesis.cancel();\r\n                window.speechSynthesis.speak(speech);\r\n            }\r\n        } catch (e) {\r\n            console.error(\"Analysis failed\", e);\r\n        }\r\n        setStatus(\"Running\");\r\n    };\r\n\r\n    return { videoRef, canvasRef, status, startCamera, captureAndAnalyze, lastResponse };\r\n}"],"names":[],"mappings":";;;;AACA;AADA;;AAGO,SAAS;IACZ,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yOAAQ,EAAkC;IACtE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yOAAQ,EAAC;IACjD,MAAM,WAAW,IAAA,uOAAM,EAAmB;IAC1C,MAAM,YAAY,IAAA,uOAAM,EAAoB;IAE5C,MAAM,cAAc;QAChB,MAAM,SAAS,MAAM,UAAU,YAAY,CAAC,YAAY,CAAC;YAAE,OAAO;gBAAE,YAAY;YAAc;QAAE;QAChG,IAAI,SAAS,OAAO,EAAE,SAAS,OAAO,CAAC,SAAS,GAAG;QACnD,UAAU;IACd;IAEA,MAAM,oBAAoB;QACtB,IAAI,CAAC,SAAS,OAAO,IAAI,CAAC,UAAU,OAAO,EAAE;QAE7C,MAAM,UAAU,UAAU,OAAO,CAAC,UAAU,CAAC;QAC7C,SAAS,UAAU,SAAS,OAAO,EAAE,GAAG,GAAG,KAAK;QAChD,MAAM,cAAc,UAAU,OAAO,CAAC,SAAS,CAAC,cAAc,KAAK,CAAC,IAAI,CAAC,EAAE;QAE3E,UAAU;QACV,MAAM;QACN,kCAAkC;QAClC,MAAM,MAAM,CAAC,6FAA6F,EAAE,QAAQ;QAEpH,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,KAAK;gBACzB,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACjB,UAAU;wBAAC;4BACP,OAAO;gCACH;oCAAE,MAAM;gCAA8F;gCACtG;oCAAE,aAAa;wCAAE,WAAW;wCAAc,MAAM;oCAAY;gCAAE;6BACjE;wBACL;qBAAE;gBACN;YACJ;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,OAAO,KAAK,UAAU,EAAE,CAAC,EAAE,EAAE,SAAS,OAAO,CAAC,EAAE,EAAE;YAExD,IAAI,MAAM;gBACN,gBAAgB;gBAChB,MAAM,SAAS,IAAI,yBAAyB;gBAC5C,OAAO,IAAI,GAAG;gBACd,OAAO,eAAe,CAAC,MAAM;gBAC7B,OAAO,eAAe,CAAC,KAAK,CAAC;YACjC;QACJ,EAAE,OAAO,GAAG;YACR,QAAQ,KAAK,CAAC,mBAAmB;QACrC;QACA,UAAU;IACd;IAEA,OAAO;QAAE;QAAU;QAAW;QAAQ;QAAa;QAAmB;IAAa;AACvF"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/78598/Documents/direct/smart-meter-ai/src/app/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useImageAnalysis } from \"../hooks/useImageAnalysis\";\r\n\r\nexport default function Home() {\r\n    const { status, analyzeImage, lastResponse } = useImageAnalysis();\r\n\r\n    return (\r\n        <main className=\"flex min-h-screen flex-col items-center justify-center bg-black p-6 text-white text-right\">\r\n            <div className=\"w-full max-w-md space-y-8\">\r\n                <h1 className=\"text-2xl font-black text-blue-500 text-center tracking-widest uppercase\">Smart Meter AI</h1>\r\n\r\n                <label className={`flex flex-col items-center justify-center w-full h-64 border-4 border-dashed rounded-[2.5rem] cursor-pointer transition-all ${status === \"Thinking\" ? \"border-yellow-500 bg-yellow-500/10 animate-pulse\" : \"border-blue-600 bg-zinc-900 hover:border-blue-400\"}`}>\r\n                    <div className=\"flex flex-col items-center justify-center pt-5 pb-6\">\r\n                        <span className=\"text-5xl mb-4\">{status === \"Thinking\" ? \"‚è≥\" : \"üì∏\"}</span>\r\n                        <p className=\"text-lg font-bold\">{status === \"Thinking\" ? \"ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ...\" : \"ÿßÿ∂ÿ∫ÿ∑ ŸÑÿ±ŸÅÿπ ÿµŸàÿ±ÿ© ÿßŸÑÿπÿØÿßÿØ\"}</p>\r\n                    </div>\r\n                    <input\r\n                        type=\"file\"\r\n                        className=\"hidden\"\r\n                        accept=\"image/*\"\r\n                        onChange={(e) => {\r\n                            const file = e.target.files?.[0];\r\n                            if (file) analyzeImage(file);\r\n                        }}\r\n                        disabled={status === \"Thinking\"}\r\n                    />\r\n                </label>\r\n\r\n                <div className=\"bg-zinc-900 border border-zinc-800 p-6 rounded-[2rem] shadow-2xl min-h-[120px] flex flex-col justify-center\">\r\n                    <p className=\"text-blue-400 text-xs font-black mb-2 uppercase tracking-widest text-right\">ÿ±ÿØ ÿßŸÑŸÖÿ¥ÿ±ŸÅ:</p>\r\n                    <p className={`text-lg leading-relaxed text-right ${status === \"Thinking\" ? \"text-zinc-500\" : \"text-zinc-200\"}`}>\r\n                        {lastResponse || \"ÿßÿ±ŸÅÿπ ÿµŸàÿ±ÿ© ÿßŸÑÿπÿØÿßÿØ ŸÑŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ...\"}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGe,SAAS;IACpB,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,IAAA,4KAAgB;IAE/D,qBACI,sQAAC;QAAK,WAAU;kBACZ,cAAA,sQAAC;YAAI,WAAU;;8BACX,sQAAC;oBAAG,WAAU;8BAA0E;;;;;;8BAExF,sQAAC;oBAAM,WAAW,CAAC,4HAA4H,EAAE,WAAW,aAAa,qDAAqD,qDAAqD;;sCAC/Q,sQAAC;4BAAI,WAAU;;8CACX,sQAAC;oCAAK,WAAU;8CAAiB,WAAW,aAAa,MAAM;;;;;;8CAC/D,sQAAC;oCAAE,WAAU;8CAAqB,WAAW,aAAa,oBAAoB;;;;;;;;;;;;sCAElF,sQAAC;4BACG,MAAK;4BACL,WAAU;4BACV,QAAO;4BACP,UAAU,CAAC;gCACP,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;gCAChC,IAAI,MAAM,aAAa;4BAC3B;4BACA,UAAU,WAAW;;;;;;;;;;;;8BAI7B,sQAAC;oBAAI,WAAU;;sCACX,sQAAC;4BAAE,WAAU;sCAA6E;;;;;;sCAC1F,sQAAC;4BAAE,WAAW,CAAC,mCAAmC,EAAE,WAAW,aAAa,kBAAkB,iBAAiB;sCAC1G,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;AAMzC"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/78598/Documents/direct/smart-meter-ai/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/78598/Documents/direct/smart-meter-ai/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,2IACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/78598/Documents/direct/smart-meter-ai/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,2IACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}